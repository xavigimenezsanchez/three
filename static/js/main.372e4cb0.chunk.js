(this.webpackJsonplittleballs=this.webpackJsonplittleballs||[]).push([[0],{11:function(e,n,t){e.exports=t(19)},16:function(e,n,t){},17:function(e,n,t){},18:function(e,n,t){},19:function(e,n,t){"use strict";t.r(n);var r,i,o,a,c=t(2),u=t.n(c),d=t(8),s=t.n(d),l=(t(16),t(10)),f=t(1),h=t(9),p=t.n(h),w=!0,v=!1,m=[],b=new f.Raycaster,g=new f.Vector2,y=new f.Plane,x=new f.Vector3(0,1,0),j=new f.Vector3,E=new f.Vector3,O=new f.Vector3,L=(new f.TextureLoader).load("three/marble-texture.jpg"),M=(new f.TextureLoader).load("three/wood.jpg"),k=(new f.TextureLoader).load("three/water.jpg"),z=(new f.TextureLoader).load("three/silk.jpg"),D=[new f.MeshBasicMaterial({map:k}),new f.MeshBasicMaterial({map:M}),new f.MeshBasicMaterial({map:L}),new f.MeshBasicMaterial({map:z})],P=(new f.TextureLoader).load("three/background.jpeg"),T=function(e){console.log(m);var n=b.intersectObjects(m);n.length>0&&(o.enabled=!1,j.copy(n[0].point),y.setFromNormalAndCoplanarPoint(x,j),O.subVectors(n[0].object.position,n[0].point),v=!0,a=n[0].object)},B=function(e){v=!1,a=null,o.enabled=!0},I=function(e){g.x=e.clientX/window.innerWidth*2-1,g.y=-e.clientY/window.innerHeight*2+1,b.setFromCamera(g,i),v&&(b.ray.intersectPlane(y,E),a.position.addVectors(E,O))},S=new f.Scene;S.background=new f.Color("orange");var V=new f.WebGLRenderer({antialias:!0}),C=new f.DirectionalLight(16777215,2);C.position.set(10,10,10),S.add(C);var W=function(e){var n=e.dispatch,t=e.spheres;return Object(c.useEffect)((function(){w&&(i=new f.PerspectiveCamera(60,r.offsetParent.offsetWidth/window.innerHeight,1,1e3),r.appendChild(V.domElement),r.addEventListener("mousemove",I,!1),r.addEventListener("mousedown",T,!1),r.addEventListener("mouseup",B,!1),V.setSize(r.offsetParent.offsetWidth,window.innerHeight),V.setPixelRatio(window.devicePixelRatio),i.position.set(0,0,20),i.lookAt(S.position),o=new p.a(i,V.domElement),S.background=P,w=!1),function(e){if((m=S.children.filter((function(e){return"Mesh"==e.type}))).length<e.length)for(var t=function(t){if(-1===S.children.findIndex((function(n){return n.uuid===e[t].uuid}))){var r=new f.SphereBufferGeometry(e[t].radius,32,32);(i=new f.Mesh(r,D[t%4])).position.x=e[t].x,i.position.y=e[t].y,i.position.z=e[t].z,n({type:"SETUUID",value:{id:e[t].id,uuid:i.uuid}}),S.add(i)}},r=0;r<e.length;r++){var i;t(r)}else for(var o=function(n){-1===e.findIndex((function(e){return e.uuid===m[n].uuid}))&&S.remove(m[n])},a=0;a<m.length;a++)o(a)}(t);var e=S.children.filter((function(e){return"Mesh"==e.type})),a=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],c=[.2,.1,.5,.2],u=[.01,.02,.03,.01],d=[5,5,4,3];V.setAnimationLoop((function(){for(var n=0;n<e.length;n++)(e[n].position.y<0&&-1==a[n]||e[n].position.y>d[n]&&1==a[n])&&(a[n]*=-1),d[n]>0?(d[n]-=u[n],e[n].position.y+=c[n]*a[n]):d[n]=-2,e[n].rotation.z+=.03;V.render(S,i)}))})),u.a.createElement("div",{ref:function(e){return r=e}})},A=t(3),R=(t(17),0),U=function(e){var n=e.dispatch,t=e.spheres;return u.a.createElement("button",{onClick:function(){var e=Object(A.a)({},t[R++]);e.y+=1.5,e.x+=1.5,e.z+=1.5,e.uuid=null,n({type:"ADD",value:e})}},"+")},F=t(5),H=function(e,n){var t=e.findIndex((function(e){return e.id===n.value}));return-1!==t&&e.splice(t,1),Object(F.a)(e)},G=function(e,n){switch(n.type){case"ADD":return 0===e.length?[Object(A.a)(Object(A.a)({},n.value),{},{id:1})]:[].concat(Object(F.a)(e),[Object(A.a)(Object(A.a)({},n.value),{},{id:e.reduce((function(e,n){return e.id>n.id?e:n})).id+1})]);case"DEL":return H(e,n);case"SETUUID":var t=e.findIndex((function(e){return e.id===n.value.id}));return e[t].uuid=n.value.uuid,Object(F.a)(e);case"SET":return n.value;default:return Object(F.a)(e)}},J=(t(18),[{id:1,radius:1,color:"green",x:0,y:0,z:1},{id:2,radius:1.1,color:"red",x:3,y:1,z:2},{id:3,radius:.4,color:"blue",x:-3,y:1,z:0},{id:4,radius:1.3,color:"orange",x:-2,y:2,z:-2}]);var N=function(){var e=Object(c.useReducer)(G,J),n=Object(l.a)(e,2),t=n[0],r=n[1];return u.a.createElement(u.a.Fragment,null,u.a.createElement(W,{dispatch:r,spheres:t}),u.a.createElement(U,{dispatch:r,spheres:t}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(u.a.createElement(u.a.StrictMode,null,u.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.372e4cb0.chunk.js.map