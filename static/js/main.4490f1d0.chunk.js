(this.webpackJsonplittleballs=this.webpackJsonplittleballs||[]).push([[0],{11:function(e,n,t){e.exports=t(18)},16:function(e,n,t){},17:function(e,n,t){},18:function(e,n,t){"use strict";t.r(n);var a,r,l,o,i=t(0),c=t.n(i),u=t(9),d=t.n(u),s=(t(16),t(7)),m=t(2),p=t(10),f=t.n(p),h=!0,v=!1,E=[],b=new m.Raycaster,w=new m.Vector2,g=new m.Plane,y=new m.Vector3(0,1,0),x=new m.Vector3,j=new m.Vector3,O=new m.Vector3,z=(new m.TextureLoader).load("marble-texture.jpg"),C=(new m.TextureLoader).load("wood.jpg"),L=(new m.TextureLoader).load("water.jpg"),M=(new m.TextureLoader).load("silk.jpg"),k=[new m.MeshBasicMaterial({map:L}),new m.MeshBasicMaterial({map:C}),new m.MeshBasicMaterial({map:z}),new m.MeshBasicMaterial({map:M})],D=function(e){console.log(E);var n=b.intersectObjects(E);n.length>0&&(l.enabled=!1,x.copy(n[0].point),g.setFromNormalAndCoplanarPoint(y,x),O.subVectors(n[0].object.position,n[0].point),v=!0,o=n[0].object)},P=function(e){v=!1,o=null,l.enabled=!0},S=function(e){w.x=e.clientX/window.innerWidth*2-1,w.y=-e.clientY/window.innerHeight*2+1,b.setFromCamera(w,r),v&&(b.ray.intersectPlane(g,j),o.position.addVectors(j,O))},F=new m.Scene;F.background=new m.Color("black");var I=new m.WebGLRenderer({antialias:!0}),B=new m.DirectionalLight(16777215,2);B.position.set(10,10,10),F.add(B);var T=function(e){var n=e.dispatch,t=e.spheres;return Object(i.useEffect)((function(){h&&(r=new m.PerspectiveCamera(60,a.offsetParent.offsetWidth/window.innerHeight,1,1e3),a.appendChild(I.domElement),a.addEventListener("mousemove",S,!1),a.addEventListener("mousedown",D,!1),a.addEventListener("mouseup",P,!1),I.setSize(a.offsetParent.offsetWidth,window.innerHeight),I.setPixelRatio(window.devicePixelRatio),r.position.set(0,0,10),r.lookAt(F.position),l=new f.a(r,I.domElement),h=!1),function(e){if((E=F.children.filter((function(e){return"Mesh"==e.type}))).length<e.length)for(var t=function(t){if(-1===F.children.findIndex((function(n){return n.uuid===e[t].uuid}))){var a=new m.SphereBufferGeometry(e[t].radius,32,32);(r=new m.Mesh(a,k[t%4])).position.x=e[t].x,r.position.y=e[t].y,r.position.z=e[t].z,n({type:"SETUUID",value:{id:e[t].id,uuid:r.uuid}}),F.add(r)}},a=0;a<e.length;a++){var r;t(a)}else for(var l=function(n){-1===e.findIndex((function(e){return e.uuid===E[n].uuid}))&&F.remove(E[n])},o=0;o<E.length;o++)l(o)}(t);var e=F.children.filter((function(e){return"Mesh"==e.type})),o=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],i=[.2,.1,.5,.2],c=[.01,.02,.03,.01],u=[5,5,4,3];I.setAnimationLoop((function(){for(var n=0;n<e.length;n++)(e[n].position.y<0&&-1==o[n]||e[n].position.y>u[n]&&1==o[n])&&(o[n]*=-1),u[n]>0?(u[n]-=c[n],e[n].position.y+=i[n]*o[n]):u[n]=-2,e[n].rotation.z+=.03;I.render(F,r)}))})),c.a.createElement("div",{ref:function(e){return a=e}})},V=t(3),A=function(e){var n=e.dispatch,t=e.spheres,a=Object(i.useState)({id:null,radius:null,color:null}),r=Object(s.a)(a,2),l=r[0],o=r[1],u=function(e){var n=Object(V.a)({},l);n[e.target.name]=e.target.value,o(n)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Control Panel"),c.a.createElement("hr",null),c.a.createElement("label",{htmlFor:"spheres"},"radius: "),c.a.createElement("input",{type:"number",name:"radius",min:"1",value:l.radius,onChange:u}),c.a.createElement("br",null),c.a.createElement("label",{htmlFor:"favcolor"},"Select your favorite color:"),c.a.createElement("input",{type:"color",id:"favcolor",name:"color",value:l.color,onChange:u}),c.a.createElement("br",null),c.a.createElement("label",{htmlFor:"x"},"x: "),c.a.createElement("input",{type:"number",name:"x",value:l.x,onChange:u}),c.a.createElement("br",null),c.a.createElement("label",{htmlFor:"y"},"y: "),c.a.createElement("input",{type:"number",name:"y",min:"1",value:l.y,onChange:u}),c.a.createElement("br",null),c.a.createElement("label",{htmlFor:"z"},"z: "),c.a.createElement("input",{type:"number",name:"z",min:"1",value:l.z,onChange:u}),c.a.createElement("br",null),c.a.createElement("button",{onClick:function(){n({type:"ADD",value:l})}},"Add"),t.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("div",null,c.a.createElement("strong",null,"Id: "),e.id),c.a.createElement("div",null,c.a.createElement("strong",null,"radius: "),e.radius),c.a.createElement("div",null,c.a.createElement("strong",null,"Color: "),e.color),c.a.createElement("div",null,c.a.createElement("strong",null,"x:"),e.x,c.a.createElement("strong",null,"y:"),e.y,c.a.createElement("strong",null,"z:"),e.z),c.a.createElement("button",{onClick:function(){n({type:"DEL",value:e.id})}},"Delete"),c.a.createElement("hr",null))})))},W=t(5),R=function(e,n){var t=e.findIndex((function(e){return e.id===n.value}));return-1!==t&&e.splice(t,1),Object(W.a)(e)},N=function(e,n){switch(n.type){case"ADD":return 0===e.length?[Object(V.a)(Object(V.a)({},n.value),{},{id:1})]:[].concat(Object(W.a)(e),[Object(V.a)(Object(V.a)({},n.value),{},{id:e.reduce((function(e,n){return e.id>n.id?e:n})).id+1})]);case"DEL":return R(e,n);case"SETUUID":var t=e.findIndex((function(e){return e.id===n.value.id}));return e[t].uuid=n.value.uuid,Object(W.a)(e);case"SET":return n.value;default:return Object(W.a)(e)}},U=(t(17),[{id:1,radius:1,color:"green",x:0,y:0,z:0},{id:2,radius:2,color:"red",x:4,y:1,z:2},{id:3,radius:.4,color:"blue",x:-3,y:1,z:1},{id:4,radius:1.3,color:"orange",x:-2,y:2,z:-2}]);var H=function(){var e=Object(i.useReducer)(N,U),n=Object(s.a)(e,2),t=n[0],a=n[1];return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"col-5"},c.a.createElement(T,{dispatch:a,spheres:t})),c.a.createElement("div",{className:"col-2"},c.a.createElement(A,{dispatch:a,spheres:t})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));d.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.4490f1d0.chunk.js.map